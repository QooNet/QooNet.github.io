<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="/default.css" media="screen" />
		<link rel="shortcut icon" href="/img/yggdrasil.ico">
		<title>yggdrasilView</title>
	</head>
	<body  >
		<div class="container">
			<div class="main">
				<div class="header">
					<div class="title">
						<h1>yggdrasilView</h1>
					</div>
				</div>
				<div class="content">
					<div class="item">
						<h1>Setup MQTT on a hosted service</h1>
						<p>We will use <a href="http://mqtt.org/" target="_blank">MQTT</a> as the communication protocol between Input-Ouput controllers and the Web applications.
							To use MQTT we need to have an MQTT broker that can pass messages back and forth between the IOCs and the Web applications.
							To begin with we will a hosted MQTT broker. We recommend that you start with <a href="https://shiftr.io/" target="_blank">shiftr.io</a> because it offers an excellent visulation tool and is currently free of charge.
						</p>
						<ul>
							<li>Sign up for a free account at <a href="https://shiftr.io/" target="_blank">shiftr.io</a> and log in.</li>
							<li>Create a new name space by clicking on the New Namespace button</li>
							<li>In this example, I chose to name the Namespace mqttExample</li>
							<li>After the name space has been created, click on Namespace settings and add a Token</li>
							<li>You can change the key and passsword to whatever you want but I usually go with shifr.io's suggestion</li>
							<li>Keep the token at full-access permission.</li>
						</ul>
						<p>To test the MQTT connection, I use MQTTLens which is
							<a href="https://chrome.google.com/webstore/detail/mqttlens/hemojaaeigabkbcookmlgmdigohjobjm?hl=en" target="_blank">Chrome Web App</a>
							that is free of charge. You will need either Chrome or Chromium as a browser.
						</p>
						<ul>
							<li>Once MQTTLens has been installed, add a new connection
								<ul>
									<li>The host name is tcp://broker.shiftr.io</li>
									<li>The port is 1883</li>
									<li>The username and password must match the key and secret of the token for the shiftr.io namespace that you created earlier</li>
									<li>The connection name can be anything you would like</li>
									<li>It is best to generate a random ID for the Client ID</li>
									<li>
										<a href="/images/tutorial/MQTTLens.png" target="_blank" rel="noopener">
											<img src="/images/tutorial/MQTTLens.png" width="300" height="200"/>
										</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="sidenav">
				<a href="/index.html"><h1>Overview</h1></a>
				<ul>
					<li><a href="/services.html">Services</a></li>
					<li><a href="/solutions.html">Solutions</a></li>
					<li><a href="/tutorial.html">Tutorial</a></li>
				</ul>
				<a href="/tutorial.html"><h1>Tutorial</h1></a>
				<ul>
				 	<li><a href="/tutorial/test-device-design.html">Test Device Design</a></li>
				 	<li><a href="/tutorial/setup-mqtt.html">Setup MQTT</a></li>
				 	<li><a href="/tutorial/input-output-controller.html">Input-Output Controller with a BeagleBone Black Wireless</a></li>
				 	<li><a href="/tutorial/node-red-web-application.html">Node-Red Web Application</a></li>
				</ul>
				<a href="/tutorial/setup-mqtt.html"><h1>Setup MQTT</h1></a>
				<ul>
				 	<li><a href="/tutorial/setup-mqtt/setup-mqtt-on-a-hosted-service.html">Setup MQTT on a hosted service</a></li>
				 	<li><a href="/tutorial/setup-mqtt/setup-mqtt-on-a-local-server.html">Setup MQTT on a local server</a></li>
				</ul>
			</div>
			<div class="clearer"><span /></div>
			<div class="footer"><p>yggdrasilView</p></div>
		</div>
	</body>
</html>
