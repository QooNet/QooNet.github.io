<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="/default.css" media="screen" />
		<link rel="shortcut icon" href="/img/yggdrasil.ico">
		<title>yggdrasilView</title>
	</head>
	<body  >
		<div class="container">
			<div class="main">
				<div class="header">
					<div class="title">
						<h1>yggdrasilView</h1>
					</div>
				</div>
				<div class="content">
					<div class="item">
						<h1>Configure the IOC With Node-Red</h1>
						<ul>
							<li>Import the tutorial flow libraries into the BBBW
								<p>ssh into the BBBW as root and change the directory to library
									directory for your node-red installation and clone the
									<a href="https://github.com/yggdrasilView/flows" target="_blank">YggdrasilView flows repository</a>
								</p>
								<pre class="code-pre "><code langs="">cd /root/.node-red/lib
git clone https://github.com/yggdrasilView/flows.git</code></pre>
							</li>
							<li>Open the tutorial flow from the Libarary
								<p>Open a browser and connect to Node-Red at <b>&lt;hostName&gt;.local:1880</b> where &lt;hostName&gt; is the host name of your BBBW
									Click on the three horizontal bar icon on the upper right hand side of the node-red desktop to open the menu.
									Navigate to <b><i>Import&gt;Library&gt;tutorial&gt;ioc</i></b>.
								</p>
								<p>
									The nodes for controlling the Ioc will appear.
									Place the nodes how you would like on the screen. Rename the Flow tab by double clicking on the flow tab
									and changing the name in the name field.
								</p>
								<center>
									<a href="/images/tutorial/ImportedIocFlow.png" target="_blank">
										<img src="/images/tutorial/ImportedIocFlow.png" width="600" />
									</a>
								</center>
							</li>
							<li>Edit the MQTT information
								<p>
									The MQTT broker username and password needs to be entered into the MQTT nodes.
									Double click on any MQTT node. (they are in light purple) For example double click on the node labeled "green/intensity/get".
									A dialog panel will open on the right side of the screen. Next to the <b><i>Server</i></b> field,
									there is a pencil icon for editing the MQTT broker information.
									Edit the MQTT broker information with the data for the MQTT broker you setup in the
									<a href="/tutorial/setup-mqtt.html" target="_blank">previous section</a> of the tutorial.
									For the Client ID field under the Connection tab, use a unique identifier so that MQTT messages do not get mixed.
								</p>
								<center>
									<a href="/images/tutorial/IocMqttConfig.png" target="_blank">
										<img src="/images/tutorial/IocMqttConfig.png" width="600"  />
									</a>
								</center>
							</li>
							<li> Deploy the Flow
								<p>
									Once the MQTT information has been entered, click on the Deploy button in the upper right hand corner of the screen.
									All the blue dots should disappear from the screen and green connected boxes should appear underneath the MQTT flows and the gpio flows.
								</p>
								<center>
									<a href="/images/tutorial/IocDeployed.png" target="_blank">
										<img src="/images/tutorial/IocDeployed.png" width="600" />
									</a>
								</center>
							</li>
							<li>Test the flow
								<p>
									Press the LED buttons on the test device and observe messages generated on the MQTT broker.
								</p>
								<center>
									<a href="/images/tutorial/IocShiftr.png" target="_blank">
										<img src="/images/tutorial/IocShiftr.png" width="600" />
									</a>
								</center>
							</li>
							<li>Explore the Flows
								<p>
									The nice thing about the Node-Red flow diagram is that it makes the program self documenting.
									However, you should take the time to examine what is contained inside each of the nodes contained in a node.
									Below is a screen shot of the <b><i>buttonPressed</i></b> node.
								</p>
								<center>
									<a href="/images/tutorial/exploreNodeInFlow.png" target="_blank">
										<img src="/images/tutorial/exploreNodeInFlow.png" width="600"  />
									</a>
								</center>
								<p>
									There are many tutorials about how to use Node-Red. I recommend that you start from the
									<a href="https://nodered.org/docs/getting-started/first-flow" target="_blank">
										offical Node-Red Website
									</a>
									and explore the internet as you go.
								</p>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="sidenav">
				<a href="/index.html"><h1>Overview</h1></a>
				<ul>
					<li><a href="/projects.html">Projects</a></li>
					<li><a href="/tutorial.html">Tutorial</a></li>
					<li><a href="https://github.com/yggdrasilView" target="_blank" rel="noopener">Code Base</a></li>
				</ul>
				<a href="/tutorial.html"><h1>Tutorial</h1></a>
				<ul>
				 	<li><a href="/tutorial/test-device-design.html">Test Device Design</a></li>
				 	<li><a href="/tutorial/setup-mqtt.html">Setup MQTT</a></li>
				 	<li><a href="/tutorial/input-output-controller.html">IOC with a BBBW</a></li>
				 	<li><a href="/tutorial/node-red-web-application.html">Node-Red Web Application</a></li>
				</ul>
				<a href="/tutorial/input-output-controller.html"><h1>IOC with a BBBW</h1></a>
				<ul>
				 	<li><a href="/tutorial/input-output-controller/setup-the-beaglebone-wireless.html">Setup the BeagleBone Black Wireless</a></li>
				 	<li><a href="/tutorial/input-output-controller/configure-the-ioc-with-node-red.html">Configure the IOC With Node-Red</a></li>
				</ul>
			</div>
			<div class="clearer"><span /></div>
			<div class="footer"><p><a href="/index.html">yggdrasilView</a></p></div>
		</div>
	</body>
</html>
